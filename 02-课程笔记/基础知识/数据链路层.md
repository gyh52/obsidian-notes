## 基本概念
### 节点传输
无确认无连接服务：不确定是否收到：用于有线传输比较好，其错误率低
有确认无连接服务：发送一个用于确认的帧，收到确认回复后说明已经收到，若没回复重新发送
有确认面向连接服务：面向连接是建立连接，确认后建立信道，适用于无线传输
![[Pasted image 20231129143442.png]]
链路：物理链路：微波也算物理链路
数据链路：逻辑链路
### 帧
帧：数据链路层的基本单位，协议数据单元（自己定的协议）
![[Pasted image 20231129143743.png]]
帧定界：首尾作用是定界，首尾有很多控制信息，数据不超过1500bit
帧同步：接收方接收比特流能判断出帧的开始和结束
透明传输

#### 功能
链路传输为点对点，传输层为端到端。点对点协议（Point-to-Point Protocot）
- 封装成帧：不同的方式封装
- 差错控制：检错和纠错编码
- 流量控制：发送端发送数据，接收端如果不能全部接收有缓冲区，若缓冲区不够大，会造成过载无法接收全部的数据，所以有必要对发送端进行流量控制。不确定接收端的情况，不对接收端进行控制。
	- 控制方法：若收不到确认说明不再发送。
		- 停止-等待协议：按帧发送，等待对方回复确认帧后再发送下一个帧。
		- 滑动窗口协议：按一组帧发送
			- 后退N帧协议（GBN）
			- 选择重传协议（SR）

### 停止-等待协议
无差错情况：ACK为控制信息，如ACK0确认0号帧发送正常。
![[Pasted image 20231129145313.png]]
有差错情况：没接收到或者帧错，帧错就丢掉
应对方法：设定计时器若在计时器（略大于RTT（往返传输时间））内没有收到回复，保留其副本，便于重传。
若ACK丢失，重传后发现重复，丢弃重复编号的帧。
若ACK超时，重传后发送端会收到重复的ACK，丢弃
![[Pasted image 20231129150107.png]]
特点：结构简单，信道利用率低
信道利用率=L/C/T=发送数据的时间除以总发送时间，占用总时间的比值。
![[Pasted image 20231129150709.png]]

### 滑动窗口协议
![[Pasted image 20231129152801.png]]
滑动窗口：一个数据结构，可能是数组或者列。同时发送一组帧，接收端接收到一个帧后窗口向后移动一帧，发送端接收到ACK后（没确认不滑动），发送端窗口向后移动一位。保证发送窗口中都是已发送未确认的。

### 通信方式
点对点链路：
PPP协议
广域网：两个相邻节点通过一个链路相连，若需要别的可能要中继节点

广播式链路：
无线局域网
一对多

## 介质访问控制
MAC，协调节点间信号的传输，避免干扰、
![[Pasted image 20231129154700.png]]
### FDM
将物理信道带宽划分成不同频带，在相应频带中传输此频带支持的频率，可以并行，对应频率只能在相应的频带中传输。
### TDM
将时间划分为周期循环的等长TDM帧，一个TDM帧划分为时隙，时隙有序号，所有用户轮流占用信道，一个用户在某个时隙独占此信道。
并发
![[Pasted image 20231129155648.png|400]]
### STDM
按需动态分配时隙
![[Pasted image 20231129160103.png|400]]
![[Pasted image 20231129160223.png|350]]
集中器按需分配，不存在空闲时隙。
需要的时隙数满足一个STDM帧后发送。
一个用户可能会连续占用多个STDM周期。
![[Pasted image 20231129160250.png|400]]

### 动态划分信道
静态划分信道定好使用顺序
动态是随机发送信息，没顺序，如果冲突都发送失败，所以定协议。
	信道只有一对在通信，多个会冲突，相当于点对点了
#### ALOHA
不监听信道，想发就发，冲突重发
#### 时隙ALOHA
把时间分相同大小的时间片，在时隙开头才能发送，减少一部分的冲突
#### CSMA
先听后发
#### CSMA/CD
碰撞检测
![[Pasted image 20231129161940.png|300]]
#### CSMA/CA
碰撞避免
![[Pasted image 20231129162104.png|400]]

## 局域网
分布式控制，广播式通信
### 无线局域网（WLAN）
802.11
![[Pasted image 20231129162459.png|300]]
### 网桥&交换机
网桥：连接两个以太网（网段）形成大以太网，是并联，根据MAC帧的目的地址对帧进行转发和过滤。用中继器形成一个网段了，相当于串联。
交换机：多接口网桥