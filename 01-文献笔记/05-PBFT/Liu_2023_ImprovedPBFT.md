Title:: An improved PBFT consensus algorithm based on grouping and credit grading
Citekey:: Liu_2023_ImprovedPBFT
Author:: Shannan Liu; Ronghua Zhang; Changzheng Liu; Chenxi Xu; Jiaojiao Wang
Date:: 2023-08-10
Journal:: Scientific Reports
Tags:: #PBFT #优化共识阶段 #优化共识集选择 #信用模型
File:: [Liu 等\_2023\_An improved PBFT consensus algorithm based on grouping and c.pdf](zotero://open-pdf/0_6Q7UK92B)
Work:: 提出基于分组与信用分级的改进PBFT共识算法CBFT。分组：根据节点对管理节点的响应速度划分共识集，使用组内先共识，管理节点代理参与全局共识的形式；设立动态节点加入/退出机制，通过时间戳验证优化组。信用分级：基于延迟指数、交易完成率、信用历史计算节点信用值，将节点按照信用分级来选择参与共识的节点。简化了共识流程，将PBFT的三阶段（预准备、准备、提交）简化为组内两阶段（准备、提交）和组间两阶段（预准备、准备），减少通信轮次。
## 研究背景
区块链技术作为分布式数据库的核心，其共识算法是确保数据一致性与安全性的关键。PBFT（实用拜占庭容错）是解决拜占庭问题的经典算法，但仍存在以下问题：
1.  **主节点选举随机性**：易受DDoS和女巫攻击，安全性低。
2.  **通信开销大**：三阶段协议需全网广播，节点数增加时性能骤降。
3.  **动态扩展性差**：节点无法自由加入/退出，限制大规模应用（如金融、物联网）。
4.  **缺乏奖惩机制**：无法激励诚实节点或惩罚恶意节点。
## 研究目的
提出一种基于**分组与信用分级**的改进PBFT算法（CBFT），旨在：
*   降低通信开销，提升吞吐量。
*   增强系统安全性，减少恶意节点影响。
*   支持动态节点管理，适应大规模联盟链场景。
## 研究技术
1.  **分组策略**：
    *   根据节点对管理节点的响应速度划分共识集，组内先共识，管理节点代理参与全局共识。
    *   动态节点加入/退出机制，通过时间戳验证优化组管理。
2.  **信用模型**：
    *   节点信用值（0-100）基于**延迟指数**（式1）、**交易完成率**（式2，含惩罚机制）、**历史信用**（式3）综合计算（式4）。
    *   节点分类：管理节点（≥60）、候选节点（40-60）、普通节点（<40），仅管理节点和候选节点参与共识。
3.  **一致性协议优化**：
    *   将PBFT的三阶段（预准备、准备、提交）简化为**组内两阶段**（准备、提交）和**组间两阶段**（预准备、准备），减少通信轮次。
## 研究内容
1.  **分组机制**：管理节点广播组信息，新节点通过响应时间选择最优组加入，组内成员动态更新。
2.  **信用评估**：定期计算节点信用值，动态调整节点角色，高信用节点优先成为管理节点。
3.  **共识流程**：
    *   客户端请求→管理节点预准备→组内投票→组间全局共识→结果确认。
4.  **安全性保障**：信用模型降低恶意节点当选主节点概率，分组减少单点攻击风险。
## 实验结果
在52节点和300节点场景下，CBFT相比PBFT和GPBFT表现如下：
*   **吞吐量**：52节点时达PBFT的3.1倍、GPBFT的1.5倍。
*   **延迟**：仅为PBFT的7.4%、GPBFT的38.8%。
*   **通信开销**：降至PBFT的6.4%、GPBFT的87.3%。
*   **容错性**：300节点时拜占庭容错能力提升59.3%，节点规模增大时优势更显著。
## 未来与展望
1.  **动态权重优化**：信用模型中参数（x, y, z）可结合场景动态调整，提升适应性。
2.  **跨组协作**：探索多组间并行共识机制，进一步降低大规模网络开销。
3.  **硬件加速**：结合硬件（如FPGA）优化信用计算与消息验证效率。
4.  **应用扩展**：在金融、供应链等高频场景验证CBFT的实用性，推动联盟链落地。
**总结**：CBFT通过分组与信用分级有效解决了PBFT的通信、安全与扩展性问题，实验验证了其高效性，未来可结合动态策略与跨组优化进一步提升性能。
